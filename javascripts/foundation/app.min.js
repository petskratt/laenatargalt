(function(e,t,n){"use strict";function u(e,t,n,r){var i=e,s=t,o=n,u=r,a=0,f=1.0001,l=0,c=0,h=0;do{l=s+o*(Math.pow(f,u+1)-f)/(f-1)+a*Math.pow(f,u)-i;c=o*(u*Math.pow(f,u+1)-(u+1)*Math.pow(f,u)+1)/Math.pow(f-1,2)+u*a*Math.pow(f,u-1);h=l/c;f-=h}while(Math.abs(h)>1e-9);var p=Math.pow(1/f,12)-1;return p}var r=10,i={est:{day:"päeva",month:"kuud",year:"aastat"},rus:{day:"д.",month:"мес.",year:"лет"}},s=8,o=Math.round;Math.round=function(e,t){if(arguments.length==1)return o(e);var n=Math.pow(10,t);return o(e*n)/n};e.fn.loanCalc=function(t,n,o){e(".fee").html(r);e(".penalty").html(s);e(".sum").html(t);n<60?e(".time").html(Math.round(n,1)+" "+i[lang].day):n<720?e(".time").html(Math.round(n/30,1)+" "+i[lang].month):e(".time").html(Math.round(n/30/12,1)+" "+i[lang].year);e(".payments").html(Math.round(n/30,1));e(".interest").html(o);var a=o/100,f=a/12,l=Math.round(n/30),c=t*f*Math.pow(1+f,l)/(Math.pow(1+f,l)-1),h=c*(n/30),p=h-t;e(".annuity").html(Math.round(c));e(".totalsum").html(Math.round(h));e(".totalinterest").html(Math.round(p));e(".amountminusfee").html(Math.round(t-r));e(".reversediscount").html(Math.round(h/(t-r)*100)-100);var d=u(t,r,c,l);e(".apr").html(Math.round(d*100,2))};e(document).ready(function(){e(".amount-slider").slider({range:"min",min:200,max:4e3,step:50,value:500,slide:function(t,n){e.fn.loanCalc(n.value,parseInt(e(".period-slider").slider("value")),parseInt(e(".interest-slider").slider("value")))}});e(".period-slider").slider({range:"min",min:30,max:360,step:30,value:60,slide:function(t,n){e.fn.loanCalc(parseInt(e(".amount-slider").slider("value")),n.value,parseInt(e(".interest-slider").slider("value")))}});e(".interest-slider").slider({range:"min",min:13,max:26,step:.5,value:19,slide:function(t,n){e.fn.loanCalc(parseInt(e(".amount-slider").slider("value")),parseInt(e(".period-slider").slider("value")),n.value)}});e.fn.loanCalc(parseInt(e(".amount-slider").slider("value")),parseInt(e(".period-slider").slider("value")),parseInt(e(".interest-slider").slider("value")))});e.fn.foundationTabs=function(n){var i=e.extend({callback:e.noop},n),s=function(t){var n={"#tab1":{rate:{min:13,max:26,avg:19},name:{est:"krediidkaart",rus:"кредитная карточка"},term:{min:30,max:360,avg:60,step:30},amount:{min:200,max:4e3,avg:500},fee:10},"#tab2":{rate:{min:14,max:25,avg:19},name:{est:"järelmaks",rus:"кредит в рассрочку"},term:{min:120,max:1440,avg:240,step:30},amount:{min:120,max:1e4,avg:800},fee:17},"#tab3":{rate:{min:2,max:6,avg:3},name:{est:"kodulaen",rus:"жилищный кредит"},term:{min:1440,max:14400,avg:3600,step:360},amount:{min:1900,max:2e5,avg:5e4},fee:64},"#tab4":{rate:{min:5.5,max:12,avg:6},name:{est:"autoliising",rus:"лизинг автомобилей"},term:{min:360,max:2160,avg:1440,step:30},amount:{min:3e3,max:1e5,avg:1e4},fee:175},"#tab5":{rate:{min:13,max:26,avg:19},name:{est:"väikelaen",rus:"потребительский кредит"},term:{min:30,max:360,avg:60,step:30},amount:{min:320,max:1e4,avg:1e3},fee:32},"#tab6":{rate:{min:14,max:25,avg:19},name:{est:"arvelduslaen",rus:"расчетный кредит"},term:{min:30,max:360,avg:60,step:30},amount:{min:190,max:2e3,avg:500},fee:6},"#tab7":{rate:{min:112,max:245,avg:146},name:{est:"kiirlaen",rus:"быстрый кредит"},term:{min:30,max:360,avg:60,step:30},amount:{min:50,max:2e3,avg:130},fee:35}},i=t.closest("dl, ul").find(".active"),s=t.children("a").attr("href"),o=/^#/.test(s),u="";e(".interest-slider").slider("option","min",n[s].rate.min);e(".interest-slider").slider("option","max",n[s].rate.max);e(".interest-slider").slider("option","value",n[s].rate.avg);e(".period-slider").slider("option","min",n[s].term.min);e(".period-slider").slider("option","max",n[s].term.max);e(".period-slider").slider("option","value",n[s].term.avg);e(".period-slider").slider("option","step",n[s].term.step);e(".amount-slider").slider("option","min",n[s].amount.min);e(".amount-slider").slider("option","max",n[s].amount.max);e(".amount-slider").slider("option","value",n[s].amount.avg);e(".loantype").html(n[s].name[lang]);r=n[s].fee;e.fn.loanCalc(parseInt(e(".amount-slider").slider("value")),parseInt(e(".period-slider").slider("value")),parseInt(e(".interest-slider").slider("value")));if(o){u=s+"Tab";u=u.replace(/^.+#/,"#");e(u).closest(".tabs-content").children("li").removeClass("active").hide();e(u).css("display","block").addClass("active")}i.removeClass("active");t.addClass("active")};e(document).on("click.fndtn",".tabs a",function(t){s(e(this).parent("dd, li"))});if(t.location.hash){s(e('a[href="'+t.location.hash+'"]').parent("dd, li"));i.callback()}};var a=e(document),f=t.Modernizr;e(document).ready(function(){e.fn.foundationButtons?a.foundationButtons():null;e.fn.foundationTabs?a.foundationTabs({callback:e.foundation.customForms.appendCustomMarkup}):null;e.fn.foundationTooltips?a.foundationTooltips():null;e.fn.foundationClearing?a.foundationClearing():null;e("input, textarea").placeholder()});f.touch&&!t.location.hash&&e(t).load(function(){setTimeout(function(){t.scrollTo(0,1)},0)});e("iframe").each(function(){var t=e(this).attr("src");e(this).attr("src").indexOf("?")>0?e(this).attr({src:t+"&wmode=transparent",wmode:"Opaque"}):e(this).attr({src:t+"?wmode=transparent",wmode:"Opaque"})})})(jQuery,this);